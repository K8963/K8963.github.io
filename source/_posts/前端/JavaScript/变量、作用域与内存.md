---
title: 变量、作用域与内存
date: 2021-05-10 12:10:00
comments: false
author: 8963
tags:
  - JavaScript
categories:
  - 前端
---



# 原始值与引用值

ECMAScript 变量可以包含两种不同类型的数据：原始值和引用值。

原始值（primitive value）就是 最简单的数据
保存原始值的变量是按值（by value）访问的，因为我们操作的就是存储在变量中的实际值。

引用值（reference value）则是由多个值构成的对象。
引用值是保存在内存中的对象。保存引用值的变量是按引用（by reference）访问的。实际操作的是对该对象的引用。

>数据类型：
>1. 原始类型
>	- String
>	- Boolean
>	- Number
>	- Null
>	- Undefined
>	- Symbol（ES6）
>	- BigInt（ES2020）
>2. 引用类型
>	 - Object
>	 - Function
>	 - Array

## 动态属性

引用值可以随时添加、修改和删除其属性和方法。
原始值不能有属性，尽管尝试给原始值添加属性不会报错。

```javascript
let name = "Nicholas"; 
name.age = 27; 
console.log(name.age); // undefined
```

注意，原始类型的初始化可以只使用原始字面量形式。如果使用的是 new 关键字，则 JavaScript 会 创建一个 Object 类型的实例，但其行为类似原始值。

![](https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070938401.png)

## 复制值

在通过变量把一个原始值赋值 到另一个变量时，原始值会被复制到新变量的位置。

```javascript
let num1 = 5; 
let num2 = num1;
```

![](https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070925039.png)

在把引用值从一个变量赋给另一个变量时，存储在变量中的值也会被复制到新变量所在的位置。区 别在于，这里复制的值实际上是一个指针，它指向存储在堆内存中的对象。操作完成后，两个变量实际 上指向同一个对象，因此一个对象上面的变化会在另一个对象上反映出来.

```javascript
let obj1 = new Object(); 
let obj2 = obj1; 
obj1.name = "Nicholas"; 
console.log(obj2.name); // "Nicholas"
```

![](https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070926924.png)

## 传递参数

ECMAScript 中所有函数的参数都是按值传递的。