<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="8963"><meta name="copyright" content="8963"><meta name="generator" content="Hexo 6.2.0"><meta name="theme" content="hexo-theme-yun"><title>ReactåŸºç¡€ - ç»„ä»¶è¿›é˜¶ | 8963æ ¸ç”µç«™</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"example.com","root":"/","title":"8963æ ¸ç”µç«™","version":"1.10.6","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"/data/sentences.json"},"local_search":{"path":"/search.xml"},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><meta name="description" content="ç»„ä»¶é€šè®¯ã€props">
<meta property="og:type" content="article">
<meta property="og:title" content="ReactåŸºç¡€ - ç»„ä»¶è¿›é˜¶">
<meta property="og:url" content="http://example.com/2021/10/22/%E5%89%8D%E7%AB%AF/react/React%E7%BB%84%E4%BB%B6%E8%BF%9B%E9%98%B6/index.html">
<meta property="og:site_name" content="8963æ ¸ç”µç«™">
<meta property="og:description" content="ç»„ä»¶é€šè®¯ã€props">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070754750.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070754804.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070754910.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070754602.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070755097.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070755233.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070755146.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070755101.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070755240.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070755678.png">
<meta property="article:published_time" content="2021-10-22T14:38:00.000Z">
<meta property="article:modified_time" content="2022-09-06T23:55:49.270Z">
<meta property="article:author" content="8963">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="React">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070754750.png"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="8963"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="8963"><span class="site-author-status" title="æ‘†çƒ‚åˆ°åº•">ğŸ˜¡</span></a><div class="site-author-name"><a href="/about/">8963</a></div><a class="site-name" href="/about/site.html">8963æ ¸ç”µç«™</a><sub class="site-subtitle"></sub><div class="site-description"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">54</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">8</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-line"></span></span><span class="site-state-item-count">33</span></a></div><a class="site-state-item hty-icon-button" href="/about/" title="æˆ‘"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:aliens-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/K8963" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E8%BF%9B%E9%98%B6"><span class="toc-number">1.</span> <span class="toc-text">ç»„ä»¶è¿›é˜¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84props"><span class="toc-number">1.1.</span> <span class="toc-text">ç»„ä»¶çš„props</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF"><span class="toc-number">1.2.</span> <span class="toc-text">ç»„ä»¶é€šè®¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E4%BC%A0%E5%AD%90"><span class="toc-number">1.2.1.</span> <span class="toc-text">çˆ¶ä¼ å­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E4%BC%A0%E7%88%B6"><span class="toc-number">1.2.2.</span> <span class="toc-text">å­ä¼ çˆ¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%84%E5%BC%9F%E7%BB%84%E4%BB%B6"><span class="toc-number">1.2.3.</span> <span class="toc-text">å…„å¼Ÿç»„ä»¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Context"><span class="toc-number">1.3.</span> <span class="toc-text">Context</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Props-%E6%B7%B1%E5%85%A5"><span class="toc-number">1.4.</span> <span class="toc-text">Props æ·±å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#children-%E5%B1%9E%E6%80%A7"><span class="toc-number">1.4.1.</span> <span class="toc-text">children å±æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Props-%E6%A0%A1%E9%AA%8C"><span class="toc-number">1.4.2.</span> <span class="toc-text">Props æ ¡éªŒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Props-%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">1.4.3.</span> <span class="toc-text">Props é»˜è®¤å€¼</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.5.</span> <span class="toc-text">ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E6%97%B6-%E6%8C%82%E8%BD%BD%E9%98%B6%E6%AE%B5"><span class="toc-number">1.5.1.</span> <span class="toc-text">1.åˆ›å»ºæ—¶(æŒ‚è½½é˜¶æ®µ)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%9B%B4%E6%96%B0%E6%97%B6"><span class="toc-number">1.5.2.</span> <span class="toc-text">2.æ›´æ–°æ—¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91render"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">è§¦å‘render()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E9%98%B6%E6%AE%B5"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">æ›´æ–°é˜¶æ®µ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%8D%B8%E8%BD%BD%E6%97%B6"><span class="toc-number">1.5.3.</span> <span class="toc-text">3.å¸è½½æ—¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%B8%B8%E7%94%A8%E7%9A%84%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.4.</span> <span class="toc-text">ä¸å¸¸ç”¨çš„é’©å­å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#render-props-%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.6.</span> <span class="toc-text">render props æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%A4%8D%E7%94%A8%E7%BB%84%E4%BB%B6"><span class="toc-number">1.6.1.</span> <span class="toc-text">ä½¿ç”¨å¤ç”¨ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E5%A4%8D%E7%94%A8"><span class="toc-number">1.6.2.</span> <span class="toc-text">ç»„ä»¶çš„å¤ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8children%E4%BB%A3%E6%9B%BFrender%E5%B1%9E%E6%80%A7"><span class="toc-number">1.6.3.</span> <span class="toc-text">ä½¿ç”¨childrenä»£æ›¿renderå±æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E6%93%8D%E4%BD%9C"><span class="toc-number">1.6.4.</span> <span class="toc-text">ä¼˜åŒ–æ“ä½œ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6"><span class="toc-number">1.7.</span> <span class="toc-text">é«˜é˜¶ç»„ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6"><span class="toc-number">1.7.1.</span> <span class="toc-text">ä½¿ç”¨é«˜é˜¶ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E7%94%A8%E7%BB%84%E4%BB%B6"><span class="toc-number">1.7.2.</span> <span class="toc-text">å¤ç”¨ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE-displayName"><span class="toc-number">1.7.3.</span> <span class="toc-text">è®¾ç½® displayName</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E9%80%92props"><span class="toc-number">1.7.4.</span> <span class="toc-text">ä¼ é€’props</span></a></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="http://example.com/2021/10/22/%E5%89%8D%E7%AB%AF/react/React%E7%BB%84%E4%BB%B6%E8%BF%9B%E9%98%B6/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="8963"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="8963æ ¸ç”µç«™"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">ReactåŸºç¡€ - ç»„ä»¶è¿›é˜¶</h1><div class="post-meta"><div class="post-time"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <span class="post-meta-icon-text">å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2021-10-22 22:38:00" itemprop="dateCreated datePublished" datetime="2021-10-22T22:38:00+08:00">2021-10-22</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%89%8D%E7%AB%AF/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">å‰ç«¯</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/JavaScript/" style="--text-color:#F4DF4F"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">JavaScript</span></a><a class="tag-item" href="/tags/React/" style="--text-color:#61dafb"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">React</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><p>ç»„ä»¶é€šè®¯ã€props</p>
<span id="more"></span>

<h1 id="ç»„ä»¶è¿›é˜¶"><a href="#ç»„ä»¶è¿›é˜¶" class="headerlink" title="ç»„ä»¶è¿›é˜¶"></a>ç»„ä»¶è¿›é˜¶</h1><h2 id="ç»„ä»¶çš„props"><a href="#ç»„ä»¶çš„props" class="headerlink" title="ç»„ä»¶çš„props"></a>ç»„ä»¶çš„props</h2><p>ç»„ä»¶æ˜¯å°é—­çš„, è¦æ¥æ”¶å¤–éƒ¨æ•°æ®åº”è¯¥é€šè¿‡ props æ¥å®ç°, props å¯ä»¥æ¥æ”¶ä¼ é€’ç»™ç»„ä»¶çš„æ•°æ®.</p>
<p>ä¼ é€’æ•°æ®: ç»™ç»„ä»¶æ ‡ç­¾æ·»åŠ å±æ€§</p>
<p>æ¥æ”¶æ•°æ®: å‡½æ•°ç»„ä»¶é€šè¿‡<code>å‚æ•°props</code>æ¥æ”¶æ•°æ®, ç±»ç»„ä»¶é€šè¿‡ <code>this.props</code> æ¥æ”¶æ•°æ®</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ol>
<li>å¯ä»¥ä¼ é€’ä»»æ„ç±»å‹çš„æ•°æ®</li>
<li><code>props</code> æ˜¯åªè¯»çš„å¯¹è±¡, åªèƒ½è¯»å–æ•°æ®çš„å€¼, æ— æ³•ä¿®æ”¹å¯¹è±¡</li>
<li>&#x3D;&#x3D;æ³¨æ„ :&#x3D;&#x3D; ä½¿ç”¨ç±»ç»„ä»¶æ—¶å¦‚æœå†™äº†æ„é€ å‡½æ•°, åº”è¯¥å°† <code>props</code> ä¼ é€’ç»™ <code>super()</code> , å¦åˆ™æ— æ³•åœ¨æ„é€ å‡½æ•°ä¸­ è·å–åˆ° <code>props</code> , ä½†æ˜¯è¿™å¯¹å…¶ä»–å‡½æ•°(å¦‚<code>render()</code>)å¹¶æ²¡æœ‰å½±å“.</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//	å‡½æ•°ç»„ä»¶</span>
<span class="token keyword">const</span> <span class="token function-variable function">Hello</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// è°ƒç”¨æ¥æ”¶çš„å‡½æ•°</span>
  props<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h1<span class="token operator">></span>props<span class="token operator">:</span><span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token punctuation">&#123;</span><span class="token comment">/* ä½¿ç”¨æ¥æ”¶çš„jsxè¡¨è¾¾å¼ */</span><span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>tag<span class="token punctuation">&#125;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token comment">//	ç±»ç»„ä»¶</span>
<span class="token keyword">const</span> <span class="token function-variable function">Hello</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// è°ƒç”¨æ¥æ”¶çš„å‡½æ•°</span>
  props<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h1<span class="token operator">></span>props<span class="token operator">:</span><span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>name<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token punctuation">&#123;</span><span class="token comment">/* ä½¿ç”¨æ¥æ”¶çš„jsxè¡¨è¾¾å¼ */</span><span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>tag<span class="token punctuation">&#125;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Hello
    name<span class="token operator">=</span><span class="token string">"jack"</span>
    age<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">19</span><span class="token punctuation">&#125;</span>
    color<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"green"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>
    fn<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ä¼ é€’ä¸€ä¸ªå‡½æ•°ç»™ç»„ä»¶"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
    tag<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token operator">&lt;</span>p<span class="token operator">></span>ä¼ é€’ä¸€ä¸ªpæ ‡ç­¾ç»™ç»„ä»¶<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token punctuation">&#125;</span>
  <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>



<h2 id="ç»„ä»¶é€šè®¯"><a href="#ç»„ä»¶é€šè®¯" class="headerlink" title="ç»„ä»¶é€šè®¯"></a>ç»„ä»¶é€šè®¯</h2><blockquote>
<p>ç»„ä»¶æ˜¯ç‹¬ç«‹ä¸”å°é—­çš„å•å…ƒï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåªèƒ½ä½¿ç”¨ç»„ä»¶è‡ªå·±çš„æ•°æ®ã€‚åœ¨ç»„ä»¶åŒ–è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªå®Œæ•´çš„åŠŸèƒ½æ‹†åˆ†æˆå¤šä¸ªç»„ä»¶ï¼Œä»¥æ›´å¥½çš„å®Œæˆæ•´ä¸ªåº”ç”¨çš„åŠŸèƒ½ã€‚è€Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¤šä¸ªç»„ä»¶ä¹‹é—´ä¸å¯é¿å…çš„è¦å…±äº«æŸäº›æ•°æ®ã€‚ä¸ºäº†å®ç°è¿™äº›åŠŸèƒ½ï¼Œå°±éœ€è¦æ‰“ç ´ç»„ä»¶çš„ç‹¬ç«‹å°é—­æ€§ï¼Œè®©å…¶ä¸å¤–ç•Œæ²Ÿé€šã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ &#x3D;&#x3D;ç»„ä»¶é€šè®¯&#x3D;&#x3D;</p>
</blockquote>
<p>ç»„ä»¶é€šè®¯æ–¹å¼</p>
<ul>
<li>çˆ¶ç»„ä»¶ &#x3D;&gt; å­ç»„ä»¶</li>
<li>å­ç»„ä»¶ &#x3D;&gt; çˆ¶ç»„ä»¶</li>
<li>å…„å¼Ÿç»„ä»¶</li>
</ul>
<h3 id="çˆ¶ä¼ å­"><a href="#çˆ¶ä¼ å­" class="headerlink" title="çˆ¶ä¼ å­"></a>çˆ¶ä¼ å­</h3><ol>
<li>çˆ¶ç»„ä»¶è¦æä¾›ä¼ é€’ç»™<code>state</code>çš„æ•°æ®</li>
<li>ç»™å­ç»„ä»¶æ ‡ç­¾æ·»åŠ å±æ€§ï¼Œå€¼ä¸ºstateä¸­çš„æ•°æ®</li>
<li>å­ç»„ä»¶ä¸­é€šè¿‡propsæ¥æ”¶çˆ¶ç»„ä»¶ä¸­ä¼ é€’çš„æ•°æ®</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  state <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">"ç‹"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        çˆ¶ç»„ä»¶
        <span class="token operator">&lt;</span>Child lastName<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>lastName<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>çˆ¶ç»„ä»¶çš„æ•°æ®<span class="token operator">:</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>lastName<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Parent <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>



<h3 id="å­ä¼ çˆ¶"><a href="#å­ä¼ çˆ¶" class="headerlink" title="å­ä¼ çˆ¶"></a>å­ä¼ çˆ¶</h3><p>æ€è·¯:åˆ©ç”¨å›è°ƒå‡½æ•°ï¼Œçˆ¶ç»„ä»¶æä¾›å›è°ƒï¼Œå­ç»„ä»¶è°ƒç”¨ï¼Œå°†è¦ä¼ é€’çš„æ•°æ®ä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ã€‚</p>
<ol>
<li>çˆ¶ç»„ä»¶æä¾›ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼ˆç”¨äºæ¥æ”¶æ•°æ®ï¼‰</li>
<li>å°†è¯¥å‡½æ•°ä½œä¸ºå±æ€§çš„å€¼ï¼Œä¼ é€’ç»™å­ç»„ä»¶</li>
<li>å­ç»„ä»¶é€šè¿‡ <code>props</code> è°ƒç”¨å›è°ƒå‡½æ•°</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function-variable function">getChildMsg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"æ¥æ”¶åˆ°çš„æ•°æ®:"</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> msg<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token literal-property property">çˆ¶ç»„ä»¶æ¥æ”¶åˆ°å­ç»„ä»¶çš„æ•°æ®</span><span class="token operator">:</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>data<span class="token punctuation">&#125;</span>
        <span class="token operator">&lt;</span>Child getChildMsg<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>getChildMsg<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  state <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">childMsg</span><span class="token operator">:</span> <span class="token string">"React"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">getChildMsg</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>childMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">&#125;</span><span class="token operator">></span>å­ç»„ä»¶ç»™å­ç»„ä»¶ä¼ é€’æ•°æ®<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Parent <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>



<h3 id="å…„å¼Ÿç»„ä»¶"><a href="#å…„å¼Ÿç»„ä»¶" class="headerlink" title="å…„å¼Ÿç»„ä»¶"></a>å…„å¼Ÿç»„ä»¶</h3><p>å°†å…±äº«çŠ¶æ€æå‡åˆ°æœ€è¿‘çš„å…¬å…±çˆ¶ç»„ä»¶ä¸­ï¼Œç”±å…¬å…±çˆ¶ç»„ä»¶ç®¡ç†è¿™ä¸ªçŠ¶æ€</p>
<p>æ€æƒ³:çŠ¶æ€æå‡</p>
<p>å…¬å…±çˆ¶ç»„ä»¶èŒè´£âˆ¶</p>
<ol>
<li><p>æä¾›å…±äº«çŠ¶æ€</p>
</li>
<li><p>æä¾›æ“ä½œå…±äº«çŠ¶æ€çš„æ–¹æ³•è¦é€šè®¯çš„å­ç»„ä»¶</p>
</li>
</ol>
<p>åªéœ€é€šè¿‡propsæ¥æ”¶çŠ¶æ€æˆ–æ“ä½œçŠ¶æ€çš„æ–¹æ³•</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// æä¾›å…±äº«çš„çŠ¶æ€</span>
  state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function-variable function">addCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>Child1 count<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Child2 addCount<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>addCount<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">Child1</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>è®¡æ•°å™¨<span class="token operator">:</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">class</span> <span class="token class-name">Child2</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">addCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Parent <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>



<h2 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h2><p><img src="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070754750.png" loading="lazy"></p>
<p>æ€è€ƒ:Appç»„ä»¶è¦ä¼ é€’æ•°æ®ç»™<code>Child</code>ç»„ä»¶ï¼Œè¯¥å¦‚ä½•å¤„ç†?</p>
<p>å¤„ç†æ–¹å¼:ä½¿ç”¨<code>props</code>ä¸€å±‚å±‚ç»„ä»¶å¾€ä¸‹ä¼ é€’ï¼ˆç¹ç)</p>
<p>æ›´å¥½çš„è§£å†³åŠæ³•ï¼šContext &#x3D;&#x3D;è·¨ç»„ä»¶ä¼ é€’æ•°æ®ï¼ˆæ¯”å¦‚ä¸»é¢˜ã€é¢„è¨€ç­‰ï¼‰&#x3D;&#x3D;</p>
<p>ä½¿ç”¨Contextï¼š</p>
<ol>
<li>è°ƒç”¨<code>React. createContext()</code>åˆ›å»º<code>Provider</code>(æä¾›æ•°æ®ï¼‰å’Œ<code>Consumer</code>(æ¶ˆè´¹æ•°æ®ï¼‰ä¸¤ä¸ªç»„ä»¶ã€‚</li>
<li>ä½¿ç”¨<code>Provider</code>ç»„ä»¶ä½œä¸ºçˆ¶èŠ‚ç‚¹ã€‚</li>
<li>åœ¨<code>Provider</code>ä¸Šè®¾ç½®valueçš„å€¼, è¡¨ç¤ºè¦ä¼ é€’çš„å€¼</li>
<li>ä½¿ç”¨<code>Consumer</code>ç»„ä»¶æ¥æ¥æ”¶æ•°æ®</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// åˆ›å»º context</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span> Provider<span class="token punctuation">,</span> Consumer <span class="token punctuation">&#125;</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Provider value<span class="token operator">=</span><span class="token string">"pink"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"app"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>Node <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"node"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>SubNode <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">class</span> <span class="token class-name">SubNode</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"subnode"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Child <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"child"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Consumer<span class="token operator">></span>
          <span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>span<span class="token operator">></span> dataè¡¨ç¤ºæ¥æ”¶åˆ°çš„æ•°æ®<span class="token operator">:</span><span class="token punctuation">&#123;</span>data<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span><span class="token punctuation">&#125;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Consumer<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>



<h2 id="Props-æ·±å…¥"><a href="#Props-æ·±å…¥" class="headerlink" title="Props æ·±å…¥"></a>Props æ·±å…¥</h2><h3 id="children-å±æ€§"><a href="#children-å±æ€§" class="headerlink" title="children å±æ€§"></a>children å±æ€§</h3><p><code>children</code>å±æ€§ï¸°è¡¨ç¤ºç»„ä»¶æ ‡ç­¾çš„å­èŠ‚ç‚¹ã€‚å½“ç»„ä»¶æ ‡ç­¾æœ‰å­èŠ‚ç‚¹æ—¶ï¼Œpropså°±ä¼šæœ‰è¯¥å±æ€§</p>
<p><code>children</code>å±æ€§ä¸æ™®é€šçš„<code>props</code>ä¸€æ ·ï¼Œå€¼å¯ä»¥æ˜¯ä»»æ„å€¼ï¼ˆæ–‡æœ¬ã€Reactå…ƒç´ ã€ç»„ä»¶ï¼Œç”šè‡³æ˜¯å‡½æ•°)</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  props<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h1<span class="token operator">></span>ç»„ä»¶æ ‡ç­¾çš„å­èŠ‚ç‚¹ï¼š<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
      <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">Test</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>button<span class="token operator">></span>æˆ‘æ˜¯ä¸€ä¸ªbuttonç»„ä»¶<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>App<span class="token operator">></span>
    æˆ‘æ˜¯å­èŠ‚ç‚¹
    <span class="token operator">&lt;</span>p<span class="token operator">></span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span>Test <span class="token operator">/</span><span class="token operator">></span>
    <span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"æˆ‘æ˜¯ä¸€ä¸ªå‡½æ•°"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>App<span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070754804.png" loading="lazy"></p>
<h3 id="Props-æ ¡éªŒ"><a href="#Props-æ ¡éªŒ" class="headerlink" title="Props æ ¡éªŒ"></a>Props æ ¡éªŒ</h3><p>å¯¹äºç»„ä»¶æ¥è¯´ï¼Œ<code>props</code>æ˜¯å¤–æ¥çš„ï¼Œæ— æ³•ä¿è¯ç»„ä»¶ä½¿ç”¨è€…ä¼ å…¥ä»€ä¹ˆæ ¼å¼çš„æ•°æ®, å¦‚æœä¼ å…¥çš„æ•°æ®æ ¼å¼ä¸å¯¹ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç»„ä»¶å†…éƒ¨æŠ¥é”™</p>
<p><code>props</code>æ ¡éªŒâˆ¶å…è®¸åœ¨åˆ›å»ºç»„ä»¶çš„æ—¶å€™ï¼Œå°±æŒ‡å®š<code>props</code>çš„ç±»å‹ã€æ ¼å¼ç­‰</p>
<p>ä½œç”¨ï¸°æ•è·ä½¿ç”¨ç»„ä»¶æ—¶å› ä¸º<code>props</code>å¯¼è‡´çš„é”™è¯¯ï¼Œç»™å‡ºæ˜ç¡®çš„é”™è¯¯æç¤ºï¼Œå¢åŠ ç»„ä»¶çš„å¥å£®æ€§</p>
<p>ä½¿ç”¨:</p>
<ol>
<li>å®‰è£…åŒ…<code>prop-types</code> ( yarn add prop-types &#x2F; npm i props-types )</li>
<li>å¯¼å…¥<code>prop-types</code>åŒ…</li>
<li>ä½¿ç”¨<code>ç»„ä»¶å.propTypes =&#123;&#125;</code>æ¥ç»™ç»„ä»¶çš„propsæ·»åŠ æ ¡éªŒè§„åˆ™</li>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/docs/typechecking-with-proptypes.html">æ ¡éªŒè§„åˆ™</a>é€šè¿‡<code>PropTypes</code> å¯¹è±¡æ¥æŒ‡å®š</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> PropType <span class="token keyword">from</span> <span class="token string">"prop-types"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> arr <span class="token operator">=</span> props<span class="token punctuation">.</span>colors<span class="token punctuation">;</span>
  <span class="token keyword">const</span> lis <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">&#123;</span>index<span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token punctuation">&#123;</span>item<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>ul<span class="token operator">></span><span class="token punctuation">&#123;</span>lis<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
App<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">colors</span><span class="token operator">:</span> PropType<span class="token punctuation">.</span>array<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>App colors<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">[</span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>App<span class="token operator">></span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ReactDOM.render(&lt;App colors=&#123;19&#125;>&lt;/App>, document.getElementById("root"));</span></code></pre>

<p>ç±»å‹ä¸ä¸€è‡´æ—¶æŠ¥é”™:</p>
<p><img src="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070754910.png" loading="lazy"></p>
<p>çº¦æŸè§„åˆ™:</p>
<ol>
<li>å¸¸è§ç±»å‹: arrayã€boolã€funcã€numberã€objectã€stringReact</li>
<li>å…ƒç´ ç±»å‹:element</li>
<li>å¿…å¡«é¡¹: isRequired</li>
<li>ç‰¹å®šç»“æ„çš„å¯¹è±¡: shape({ })</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/typechecking-with-proptypes.html">æ ¡éªŒè§„åˆ™</a></p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> PropType <span class="token keyword">from</span> <span class="token string">"prop-types"</span><span class="token punctuation">;</span>
<span class="token comment">//æ·»åŠ propsæ ¡éªŒ1/å±æ€§açš„ç±»å‹; æ•°å€¼ï¼ˆnumber)</span>
<span class="token comment">//å±æ€§ fnçš„ç±»å‹:  å‡½æ•°ï¼ˆfuncï¼‰å¹¶ä¸”ä¸ºå¿…å¡«é¡¹</span>
<span class="token comment">//å±æ€§tagçš„ç±»å‹:  Reactå…ƒç´ ï¼ˆelement)</span>
<span class="token comment">//å±æ€§filterçš„ç±»å‹: å¯¹è±¡ï¼ˆ&#123;area: â€˜ä¸Šæµ·',price: 1999&#125;)</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>props æ ¡éªŒ<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
App<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> PropType<span class="token punctuation">.</span>number<span class="token punctuation">,</span>
  <span class="token literal-property property">fn</span><span class="token operator">:</span> PropType<span class="token punctuation">.</span>func<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
  <span class="token literal-property property">tag</span><span class="token operator">:</span> PropType<span class="token punctuation">.</span>element<span class="token punctuation">,</span>
  <span class="token literal-property property">filter</span><span class="token operator">:</span> PropType<span class="token punctuation">.</span><span class="token function">shape</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token literal-property property">area</span><span class="token operator">:</span> PropType<span class="token punctuation">.</span>string<span class="token punctuation">,</span>
    <span class="token literal-property property">price</span><span class="token operator">:</span> PropType<span class="token punctuation">.</span>number<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>App<span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h3 id="Props-é»˜è®¤å€¼"><a href="#Props-é»˜è®¤å€¼" class="headerlink" title="Props é»˜è®¤å€¼"></a>Props é»˜è®¤å€¼</h3><p>ç»™propsè®¾ç½®é»˜è®¤å€¼ï¼Œåœ¨æœªä¼ å…¥props æ—¶ç”Ÿæ•ˆ</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> PropType <span class="token keyword">from</span> <span class="token string">"prop-types"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>props é»˜è®¤å€¼<span class="token operator">:</span><span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>pageSize<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
App<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">pageSize</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>App<span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h2 id="ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"></a>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h2><p>ç”Ÿå‘½å‘¨æœŸï¼šç»„ä»¶ä»è¢«åˆ›å»ºåˆ°æŒ‚è½½åˆ°é¡µé¢ä¸­è¿è¡Œï¼Œå†åˆ°ç»„ä»¶ä¸ç”¨æ—¶å¸è½½çš„è¿‡ç¨‹</p>
<p>ç”Ÿå‘½å‘¨æœŸçš„æ¯ä¸ªé˜¶æ®µæ€»æ˜¯ä¼´éšç€ä¸€äº›æ–¹æ³•è°ƒç”¨ï¼Œè¿™äº›æ–¹æ³•å°±æ˜¯ç”Ÿå‘½å‘¨æœŸçš„é’©å­å‡½æ•°ã€‚</p>
<p>é’©å­å‡½æ•°çš„ä½œç”¨:ä¸ºå¼€å‘äººå‘˜åœ¨ä¸åŒé˜¶æ®µæ“ä½œç»„ä»¶æä¾›äº†æ—¶æœºã€‚</p>
<p>&#x3D;&#x3D;åªæœ‰ç±»ç»„ä»¶æ‰æœ‰ç”Ÿå‘½å‘¨æœŸ&#x3D;&#x3D;</p>
<p><img src="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070754602.png" loading="lazy"></p>
<h3 id="1-åˆ›å»ºæ—¶-æŒ‚è½½é˜¶æ®µ"><a href="#1-åˆ›å»ºæ—¶-æŒ‚è½½é˜¶æ®µ" class="headerlink" title="1.åˆ›å»ºæ—¶(æŒ‚è½½é˜¶æ®µ)"></a>1.åˆ›å»ºæ—¶(æŒ‚è½½é˜¶æ®µ)</h3><p>æ‰§è¡Œæ—¶æœº:ç»„ä»¶åˆ›å»ºæ—¶( é¡µé¢åŠ è½½æ—¶ )</p>
<p>æ‰§è¡Œé¡ºåº:</p>
<p><img src="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070755097.png" loading="lazy"></p>
<p>è¯´æ˜ï¼š</p>
<ol>
<li><p>constructor()</p>
<p>åˆ›å»ºç»„ä»¶æ—¶ï¼Œæœ€å…ˆæ‰§è¡Œ</p>
<p>ä½œç”¨ï¼š</p>
<ul>
<li>åˆå§‹åŒ–state</li>
<li>ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºç»‘å®š<code>this</code></li>
</ul>
</li>
<li><p>render()</p>
<p>æ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½ä¼šè§¦å‘</p>
<p>ä½œç”¨:</p>
<ul>
<li><p>æ¸²æŸ“ UI (æ³¨æ„: ä¸èƒ½è°ƒç”¨ <code>setState()</code> )</p>
<blockquote>
<p>å› ä¸º <code>setState()</code> æ–¹æ³•åœ¨æ›´æ–°stateåä¼šè°ƒç”¨<code>render()</code>æ¸²æŸ“ui, å¦‚æœåœ¨<code>render</code>ä¸­è°ƒç”¨<code>setState()</code>ä¼šé€ æˆé€’å½’äº§ç”Ÿé”™è¯¯.</p>
</blockquote>
</li>
</ul>
</li>
<li><p>componentDidMount()</p>
<p>ç»„ä»¶æŒ‚è½½(å®Œæˆ DOM æ¸²æŸ“) å</p>
<p>ä½œç”¨:</p>
<ul>
<li>å‘é€ç½‘ç»œè¯·æ±‚</li>
<li>DOM æ“ä½œ</li>
</ul>
</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼šconstructorï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼šrenderï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼šcomponentDidMountï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>App<span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>



<h3 id="2-æ›´æ–°æ—¶"><a href="#2-æ›´æ–°æ—¶" class="headerlink" title="2.æ›´æ–°æ—¶"></a>2.æ›´æ–°æ—¶</h3><h4 id="è§¦å‘render"><a href="#è§¦å‘render" class="headerlink" title="è§¦å‘render()"></a>è§¦å‘<code>render()</code></h4><ol>
<li>setState()</li>
<li>foreUpdate()</li>
<li>ç»„ä»¶æ¥æ”¶åˆ°æ–°çš„<code>props</code></li>
</ol>
<p>ä»¥ä¸Šä»»æ„ä¸€ç§æƒ…å†µéƒ½ä¼šè§¦å‘<code>render()</code>é‡æ–°æ¸²æŸ“</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// setState()</span>
    <span class="token comment">// this.setState(&#123;</span>
    <span class="token comment">//   count: this.state.count + 1,</span>
    <span class="token comment">// &#125;);</span>
    <span class="token comment">// å¼ºåˆ¶æ›´æ–°</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">forceUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼šrenderï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token punctuation">&#123;</span><span class="token comment">/* ä¼ é€’æ–°çš„props */</span><span class="token punctuation">&#125;</span>
        <span class="token operator">&lt;</span>Counter count<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">&#125;</span><span class="token operator">></span>æ‰“è±†è±†<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"--å­ç»„ä»¶--ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼šrenderï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>ç»Ÿè®¡è¢«æ‰“è±†è±†çš„æ¬¡æ•°ï¼š<span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>



<h4 id="æ›´æ–°é˜¶æ®µ"><a href="#æ›´æ–°é˜¶æ®µ" class="headerlink" title="æ›´æ–°é˜¶æ®µ"></a>æ›´æ–°é˜¶æ®µ</h4><p>æ‰§è¡Œé¡ºåºï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070755233.png" loading="lazy"></p>
<p>è¯´æ˜ï¼š</p>
<ol>
<li><p>render()</p>
<p>æ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½ä¼šè§¦å‘</p>
<p>ä½œç”¨:</p>
<ul>
<li>æ¸²æŸ“ UI (æ³¨æ„: ä¸èƒ½è°ƒç”¨ <code>setState()</code> )</li>
</ul>
</li>
<li><p>componentDidUpdate()</p>
<p>ç»„ä»¶æ›´æ–°ï¼ˆå®ŒæˆDOMæ¸²æŸ“ï¼‰å</p>
<p>ä½œç”¨ï¼š</p>
<ul>
<li><p>å‘é€ç½‘ç»œè¯·æ±‚</p>
</li>
<li><p>DOMæ“ä½œ</p>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœè¦<code>setState()</code>å¿…é¡»æ”¾åœ¨ä¸€ä¸ª<code>if</code>æ¡ä»¶ä¸­</p>
<p>å¦‚æœç›´æ¥è°ƒç”¨ <code>setState()</code>æ›´æ–°çŠ¶æ€, ä¹Ÿä¼šå¯¼è‡´é€’å½’æ›´æ–°</p>
</blockquote>
</li>
</ul>
</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"--å­ç»„ä»¶--ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼šrenderï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>ç»Ÿè®¡è¢«æ‰“è±†è±†çš„æ¬¡æ•°ï¼š<span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"--å­ç»„ä»¶--ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼šcomponentDidUpdateï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æ¯”è¾ƒæ›´æ–°å‰åçš„propsæ˜¯å¦ç›¸åŒ, æ¥å†³å®šæ˜¯å¦é‡æ–°æ¸²æŸ“ç»„ä»¶</span>
    <span class="token comment">// console.log("ä¸Šä¸€æ¬¡çš„props:", prevProps, ",å½“å‰çš„props", this.props);</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prevProps<span class="token punctuation">.</span>count <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// å‘é€Ajaxè¯·æ±‚</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>



<h3 id="3-å¸è½½æ—¶"><a href="#3-å¸è½½æ—¶" class="headerlink" title="3.å¸è½½æ—¶"></a>3.å¸è½½æ—¶</h3><p>æ‰§è¡Œæ—¶æœº:ç»„ä»¶ä»é¡µé¢ä¸­æ¶ˆå¤±</p>
<p><code>componentWillUnmount()</code></p>
<p>ç»„ä»¶å¸è½½(ä»é¡µé¢ä¸­æ¶ˆå¤±)</p>
<p>ä½œç”¨:</p>
<ul>
<li>æ‰§è¡Œæ¸…ç†å·¥ä½œ(å¦‚æ¸…ç†å®šæ—¶å™¨)</li>
</ul>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// å¼€å¯å®šæ—¶å™¨</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>timerId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"å®šæ—¶å™¨æ­£åœ¨æ‰§è¡Œ~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1 id<span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">></span>ç»Ÿè®¡è¢«æ‰“è±†è±†çš„æ¬¡æ•°ï¼š<span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"ç”Ÿå‘½å‘¨æœŸå‡½æ•°: componentWillUnmount"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æ¸…ç†å®šæ—¶å™¨</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timerId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>



<h3 id="ä¸å¸¸ç”¨çš„é’©å­å‡½æ•°"><a href="#ä¸å¸¸ç”¨çš„é’©å­å‡½æ•°" class="headerlink" title="ä¸å¸¸ç”¨çš„é’©å­å‡½æ•°"></a>ä¸å¸¸ç”¨çš„é’©å­å‡½æ•°</h3><p>æ—§ç‰ˆçš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</p>
<p><img src="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070755146.jpg" loading="lazy"></p>
<p>æ–°ç‰ˆå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</p>
<p><img src="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070755101.png" loading="lazy"></p>
<h2 id="render-props-æ¨¡å¼"><a href="#render-props-æ¨¡å¼" class="headerlink" title="render props æ¨¡å¼"></a>render props æ¨¡å¼</h2><blockquote>
<p>ç»„ä»¶å¤ç”¨ï¼Œå¤ç”¨ç›¸ä¼¼çš„åŠŸèƒ½ï¼Œè¦å¤ç”¨<code>state</code>,æ“ä½œ<code>state</code>çš„æ–¹æ³•,ç»„ä»¶çŠ¶æ€é€»è¾‘.</p>
<p>å®ç°ç»„ä»¶å¤ç”¨çš„æ–¹æ³•:</p>
<ol>
<li>render propsæ¨¡å¼</li>
<li>é«˜é˜¶ç»„ä»¶ (HOC)</li>
</ol>
</blockquote>
<p><code>render prpos</code> æ¨¡å¼æ€è·¯åˆ†æ:</p>
<ol>
<li>åœ¨ä½¿ç”¨ç»„ä»¶æ—¶,æ·»åŠ ä¸€ä¸ªå€¼ä¸º&#x3D;&#x3D;å‡½æ•°çš„props&#x3D;&#x3D;,é€šè¿‡å‡½æ•°&#x3D;&#x3D;å‚æ•°&#x3D;&#x3D;æ¥è·å–ç»„ä»¶ä¸­å¤ç”¨çš„<code>state</code>(éœ€è¦ç»„ä»¶å†…éƒ¨æ¥å®ç°)</li>
<li>ä½¿ç”¨&#x3D;&#x3D;è¯¥å‡½æ•°çš„è¿”å›å€¼&#x3D;&#x3D;ä½œç”¨ä¸ºè¦æ¸²æŸ“çš„UIçš„å†…å®¹(éœ€è¦ç»„ä»¶å†…éƒ¨è¦å®ç°)</li>
</ol>
<h3 id="ä½¿ç”¨å¤ç”¨ç»„ä»¶"><a href="#ä½¿ç”¨å¤ç”¨ç»„ä»¶" class="headerlink" title="ä½¿ç”¨å¤ç”¨ç»„ä»¶"></a>ä½¿ç”¨å¤ç”¨ç»„ä»¶</h3><ol>
<li>åˆ›å»ºMouseç»„ä»¶ï¼Œåœ¨ç»„ä»¶ä¸­æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘ä»£ç ( 1.çŠ¶æ€â’‰.æ“ä½œçŠ¶æ€çš„æ–¹æ³•)</li>
<li>å°†è¦å¤ç”¨çš„çŠ¶æ€ä½œä¸ºprops.render(state)æ–¹æ³•çš„å‚æ•°ï¼Œæš´éœ²åˆ°ç»„ä»¶å¤–éƒ¨</li>
<li>ä½¿ç”¨props.render()çš„è¿”å›å€¼ä½œä¸ºè¦æ¸²æŸ“çš„å†…å®¹</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Mouse</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function-variable function">handleMouseMove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      <span class="token literal-property property">x</span><span class="token operator">:</span> e<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span>
      <span class="token literal-property property">y</span><span class="token operator">:</span> e<span class="token punctuation">.</span>clientY<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleMouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>h1<span class="token operator">></span>Render Props æ¨¡å¼<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
        <span class="token operator">&lt;</span>Mouse
          render<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter">mouse</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>p<span class="token operator">></span>
              é¼ æ ‡çš„ä½ç½®<span class="token punctuation">&#123;</span>mouse<span class="token punctuation">.</span>x<span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>mouse<span class="token punctuation">.</span>y<span class="token punctuation">&#125;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>App<span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h3 id="ç»„ä»¶çš„å¤ç”¨"><a href="#ç»„ä»¶çš„å¤ç”¨" class="headerlink" title="ç»„ä»¶çš„å¤ç”¨"></a>ç»„ä»¶çš„å¤ç”¨</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>h1<span class="token operator">></span>Render Props æ¨¡å¼<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
        <span class="token operator">&lt;</span>Mouse
          render<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter">mouse</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>p<span class="token operator">></span>
              é¼ æ ‡çš„ä½ç½®<span class="token punctuation">&#123;</span>mouse<span class="token punctuation">.</span>x<span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>mouse<span class="token punctuation">.</span>y<span class="token punctuation">&#125;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
        <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Mouse
          render<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter">mouse</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>img
                src<span class="token operator">=</span><span class="token punctuation">&#123;</span>img<span class="token punctuation">&#125;</span>
                alt<span class="token operator">=</span><span class="token string">"img"</span>
                style<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>
                  <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">"absolute"</span><span class="token punctuation">,</span>
                  <span class="token comment">// å‡å»å›¾ç‰‡çš„ä¸€åŠè®©é¼ æ ‡åœ¨å›¾ç‰‡çš„ä¸­é—´</span>
                  <span class="token literal-property property">top</span><span class="token operator">:</span> mouse<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">130</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">left</span><span class="token operator">:</span> mouse<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">130</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
              <span class="token operator">/</span><span class="token operator">></span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="ä½¿ç”¨childrenä»£æ›¿renderå±æ€§"><a href="#ä½¿ç”¨childrenä»£æ›¿renderå±æ€§" class="headerlink" title="ä½¿ç”¨childrenä»£æ›¿renderå±æ€§"></a>ä½¿ç”¨childrenä»£æ›¿renderå±æ€§</h3><p>æ€è·¯å…¶å®æ˜¯ä¸€æ ·çš„</p>
<p>&#x3D;&#x3D;æ¨è&#x3D;&#x3D;</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Mouse</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function-variable function">handleMouseMove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      <span class="token literal-property property">x</span><span class="token operator">:</span> e<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span>
      <span class="token literal-property property">y</span><span class="token operator">:</span> e<span class="token punctuation">.</span>clientY<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleMouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>h1<span class="token operator">></span>Render Props æ¨¡å¼<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
        <span class="token operator">&lt;</span>Mouse<span class="token operator">></span>
          <span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> x<span class="token punctuation">,</span> y <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>p<span class="token operator">></span>
              é¼ æ ‡çš„ä½ç½®<span class="token punctuation">&#123;</span>x<span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>y<span class="token punctuation">&#125;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Mouse<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="ä¼˜åŒ–æ“ä½œ"><a href="#ä¼˜åŒ–æ“ä½œ" class="headerlink" title="ä¼˜åŒ–æ“ä½œ"></a>ä¼˜åŒ–æ“ä½œ</h3><ol>
<li><p>ç»™ render props æ¨¡å¼æ·»åŠ  props æ•ˆéªŒ</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">"prop-types"</span><span class="token punctuation">;</span>
Mouse<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">children</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>åº”è¯¥åœ¨ç»„ä»¶å¸è½½æ—¶è§£é™¤ <code>mousemove</code> äº‹ä»¶ç»‘å®š</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Mouse</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleMouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></li>
</ol>
<h2 id="é«˜é˜¶ç»„ä»¶"><a href="#é«˜é˜¶ç»„ä»¶" class="headerlink" title="é«˜é˜¶ç»„ä»¶"></a>é«˜é˜¶ç»„ä»¶</h2><p>é«˜é˜¶ç»„ä»¶ä¹Ÿæ˜¯å®ç°çŠ¶æ€é€»è¾‘å¤ç”¨,é‡‡ç”¨åŒ…è£…æ¨¡å¼</p>
<p>é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼ŒHigher-Order Componentï¼‰æ˜¯ä¸€ä¸ª&#x3D;&#x3D;å‡½æ•°&#x3D;&#x3D;ï¼Œæ¥æ”¶è¦åŒ…è£…çš„ç»„ä»¶ï¼Œè¿”å›å¢å¼ºåçš„ç»„ä»¶<br>é«˜é˜¶ç»„ä»¶å†…éƒ¨åˆ›å»ºä¸€ä¸ªç±»ç»„ä»¶ï¼Œåœ¨è¿™ä¸ªç±»ç»„ä»¶ä¸­æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘ä»£ç ï¼Œé€šè¿‡<code>peops</code>å°†å¤ç”¨çš„çŠ¶æ€ä¼ é€’ç»™è¢«åŒ…è£…ç»„ä»¶ã€‚</p>
<h3 id="ä½¿ç”¨é«˜é˜¶ç»„ä»¶"><a href="#ä½¿ç”¨é«˜é˜¶ç»„ä»¶" class="headerlink" title="ä½¿ç”¨é«˜é˜¶ç»„ä»¶"></a>ä½¿ç”¨é«˜é˜¶ç»„ä»¶</h3><ol>
<li>åˆ›å»ºä¸€ä¸ªå‡½æ•°</li>
<li>æŒ‡å®šå‡½æ•°å‚æ•°ï¼Œå‚æ•°åº”è¯¥ä»¥å¤§å†™å­—æ¯å¼€å¤´(ä½œä¸ºè¦æ¸²æŸ“çš„ç»„ä»¶)</li>
<li>åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºä¸€ä¸ªç±»ç»„ä»¶ï¼Œæä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘ä»£ç ï¼Œå¹¶è¿”å›</li>
<li>åœ¨è¯¥ç»„ä»¶ä¸­ï¼Œæ¸²æŸ“å‚æ•°ç»„ä»¶ï¼ŒåŒæ—¶å°†çŠ¶æ€é€šè¿‡ prop ä¼ é€’ç»™å‚æ•°ç»„ä»¶</li>
<li>è°ƒç”¨è¯¥é«˜é˜¶ç»„ä»¶ï¼Œä¼ å…¥è¦å¢å¼ºçš„ç»„ä»¶ï¼Œé€šè¿‡è¿”å›å€¼æ‹¿åˆ°å¢å¼ºåçš„ç»„ä»¶ï¼Œå¹¶å°†å…¶æ¸²æŸ“åˆ°é¡µé¢ä¸­</li>
</ol>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// åˆ›å»ºé«˜é˜¶ç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">withMouse</span><span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// è¯¥ç»„ä»¶æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘</span>
  <span class="token keyword">class</span> <span class="token class-name">Mouse</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// é¼ æ ‡çŠ¶æ€</span>
    state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token function-variable function">handleMouseMove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        <span class="token literal-property property">x</span><span class="token operator">:</span> e<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span>
        <span class="token literal-property property">y</span><span class="token operator">:</span> e<span class="token punctuation">.</span>clientY<span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token comment">// æ§åˆ¶é¼ æ ‡çŠ¶æ€çš„é€»è¾‘</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleMouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleMouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token operator">&lt;</span>WrappedComponent <span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> Mouse<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// è¦å¢å¼ºçš„ç»„ä»¶</span>
<span class="token keyword">const</span> <span class="token function-variable function">Position</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>p<span class="token operator">></span>
      <span class="token function">é¼ æ ‡å½“å‰ä½ç½®ï¼š</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>x<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>y<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token comment">// å¢å¼ºåçš„ç»„ä»¶</span>
<span class="token keyword">const</span> MousePosition <span class="token operator">=</span> <span class="token function">withMouse</span><span class="token punctuation">(</span>Position<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>h1<span class="token operator">></span>é«˜é˜¶ç»„ä»¶<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
        <span class="token operator">&lt;</span>MousePosition <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<h3 id="å¤ç”¨ç»„ä»¶"><a href="#å¤ç”¨ç»„ä»¶" class="headerlink" title="å¤ç”¨ç»„ä»¶"></a>å¤ç”¨ç»„ä»¶</h3><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">Img</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>img
    src<span class="token operator">=</span><span class="token punctuation">&#123;</span>img<span class="token punctuation">&#125;</span>
    alt<span class="token operator">=</span><span class="token string">" "</span>
    style<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">"absolute"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">top</span><span class="token operator">:</span> props<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span>
      <span class="token literal-property property">left</span><span class="token operator">:</span> props<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
  <span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>img<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¢å¼ºåçš„ç»„ä»¶</span>
<span class="token keyword">const</span> MouseImg <span class="token operator">=</span> <span class="token function">withMouse</span><span class="token punctuation">(</span>Img<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>h1<span class="token operator">></span>é«˜é˜¶ç»„ä»¶<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
        <span class="token operator">&lt;</span>MousePosition <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>MouseImg <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<h3 id="è®¾ç½®-displayName"><a href="#è®¾ç½®-displayName" class="headerlink" title="è®¾ç½® displayName"></a>è®¾ç½® displayName</h3><p>ä½¿ç”¨é«˜é˜¶ç»„ä»¶å¤ç”¨å¤šä¸ªç»„ä»¶æ—¶ï¼Œä¼šä½¿å¤šä¸ªç»„ä»¶åç§°ç›¸åŒï¼Œå¦‚ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070755240.png" loading="lazy"></p>
<p>å› ä¸ºé»˜è®¤æƒ…å†µä¸‹ï¼ŒReact ä¼šä½¿ç”¨ç»„ä»¶åç§°ä½œä¸º<code>displayName</code>,å› æ­¤æˆ‘ä»¬éœ€è¦ä¸ºé«˜é˜¶ç»„ä»¶è®¾ç½®<code>dispalyName</code> ä¾¿äºåŒºåˆ†ä¸åŒçš„ç»„ä»¶</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">withMouse</span><span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// è®¾ç½®displayName</span>
  Mouse<span class="token punctuation">.</span>displayName <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token function">getDisplayName</span><span class="token punctuation">(</span>WrappedComponent<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Mouse<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// è®¾ç½®displayName</span>
<span class="token keyword">function</span> <span class="token function">getDisplayName</span><span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> WrappedComponent<span class="token punctuation">.</span>displayName <span class="token operator">||</span> WrappedComponent<span class="token punctuation">.</span>name <span class="token operator">||</span> <span class="token string">"Component"</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070755678.png" loading="lazy"></p>
<h3 id="ä¼ é€’props"><a href="#ä¼ é€’props" class="headerlink" title="ä¼ é€’props"></a>ä¼ é€’props</h3><p>åœ¨é«˜é˜¶ç»„ä»¶ä¸­å­˜åœ¨<code>props</code>ä¸¢å¤±çš„é—®é¢˜, åœ¨è°ƒç”¨<code>MousePosition</code>ç»„ä»¶æ—¶ä¼ å…¥<code>props.a</code>, åœ¨<code>Position</code>ä¸­æ˜¯æ— æ³•è·å–åˆ°<code>props.a</code>çš„</p>
<p>å› ä¸ºé«˜é˜¶ç»„ä»¶æ²¡æœ‰å¾€ä¸‹ä¼ é€’<code>props</code>,åªä¼ é€’äº†<code>state</code></p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">Position</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>p<span class="token operator">></span>
      <span class="token function">é¼ æ ‡å½“å‰ä½ç½®ï¼š</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>x<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>y<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token comment">// å¢å¼ºåçš„ç»„ä»¶</span>
<span class="token keyword">const</span> MousePosition <span class="token operator">=</span> <span class="token function">withMouse</span><span class="token punctuation">(</span>Position<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>h1<span class="token operator">></span>é«˜é˜¶ç»„ä»¶<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
        <span class="token operator">&lt;</span>MousePosition a<span class="token operator">=</span><span class="token string">"1"</span><span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p>è§£å†³: æ¸²æŸ“<code>*WrappedComponent*</code>æ—¶,å°†<code>state</code>å’Œ<code>this.props</code>ä¸€èµ·ä¼ é€’ç»™ç»„ä»¶</p>
<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// åˆ›å»ºé«˜é˜¶ç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">withMouse</span><span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// è¯¥ç»„ä»¶æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘</span>
  <span class="token keyword">class</span> <span class="token class-name">Mouse</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// é¼ æ ‡çŠ¶æ€</span>
    state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token function-variable function">handleMouseMove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        <span class="token literal-property property">x</span><span class="token operator">:</span> e<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span>
        <span class="token literal-property property">y</span><span class="token operator">:</span> e<span class="token punctuation">.</span>clientY<span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token comment">// æ§åˆ¶é¼ æ ‡çŠ¶æ€çš„é€»è¾‘</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleMouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleMouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token operator">&lt;</span>WrappedComponent <span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">&#125;</span> <span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">// è®¾ç½®displayName</span>
  Mouse<span class="token punctuation">.</span>displayName <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token function">getDisplayName</span><span class="token punctuation">(</span>WrappedComponent<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Mouse<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>

</div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>8963</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="http://example.com/2021/10/22/%E5%89%8D%E7%AB%AF/react/React%E7%BB%84%E4%BB%B6%E8%BF%9B%E9%98%B6/" title="ReactåŸºç¡€ - ç»„ä»¶è¿›é˜¶">http://example.com/2021/10/22/%E5%89%8D%E7%AB%AF/react/React%E7%BB%84%E4%BB%B6%E8%BF%9B%E9%98%B6/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> è®¸å¯åè®®ã€‚</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/11/07/%E5%89%8D%E7%AB%AF/react/React%20%E5%8E%9F%E7%90%86/" rel="prev" title="React åŸç†"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">React åŸç†</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/09/18/%E5%90%8E%E7%AB%AF/Node.js/%E5%9F%BA%E7%A1%80/3.express/" rel="next" title="expressåŸºæœ¬ä½¿ç”¨"><span class="post-nav-text">expressåŸºæœ¬ä½¿ç”¨</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 â€“ 2023 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> 8963</span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="https://fastly.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="æœç´¢..." value=""></div><div class="search-result-container"></div></div><script src="https://fastly.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script>const images = [...document.querySelectorAll('.markdown-body img')]
mediumZoom(images)</script><style>.medium-zoom-image {
  z-index: 99;
}</style></body></html>