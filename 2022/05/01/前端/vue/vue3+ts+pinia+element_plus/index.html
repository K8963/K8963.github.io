<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="8963"><meta name="copyright" content="8963"><meta name="generator" content="Hexo 6.2.0"><meta name="theme" content="hexo-theme-yun"><title>vue3+ts+pinia+element_plus | 8963æ ¸ç”µç«™</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"example.com","root":"/","title":"8963æ ¸ç”µç«™","version":"1.10.6","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"/data/sentences.json"},"local_search":{"path":"/search.xml"},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><meta name="description" content="vue ç”Ÿå‘½å‘¨æœŸã€v-if å’Œ v-show çš„åŒºåˆ«ã€computed å’Œ watch çš„åŒºåˆ«ã€v-for ä¸­ key çš„ä½œç”¨ã€ç»„ä»¶ä¼ å€¼">
<meta property="og:type" content="article">
<meta property="og:title" content="vue3+ts+pinia+element_plus">
<meta property="og:url" content="http://example.com/2022/05/01/%E5%89%8D%E7%AB%AF/vue/vue3+ts+pinia+element_plus/index.html">
<meta property="og:site_name" content="8963æ ¸ç”µç«™">
<meta property="og:description" content="vue ç”Ÿå‘½å‘¨æœŸã€v-if å’Œ v-show çš„åŒºåˆ«ã€computed å’Œ watch çš„åŒºåˆ«ã€v-for ä¸­ key çš„ä½œç”¨ã€ç»„ä»¶ä¼ å€¼">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070804686.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070804391.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070804623.png">
<meta property="article:published_time" content="2022-05-01T04:59:00.000Z">
<meta property="article:modified_time" content="2022-09-07T01:53:10.608Z">
<meta property="article:author" content="8963">
<meta property="article:tag" content="TypeScript">
<meta property="article:tag" content="vue3">
<meta property="article:tag" content="pinia">
<meta property="article:tag" content="element_plus">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070804686.png"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="8963"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="8963"><span class="site-author-status" title="æ‘†çƒ‚åˆ°åº•">ğŸ˜¡</span></a><div class="site-author-name"><a href="/about/">8963</a></div><a class="site-name" href="/about/site.html">8963æ ¸ç”µç«™</a><sub class="site-subtitle"></sub><div class="site-description"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">45</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">8</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-line"></span></span><span class="site-state-item-count">31</span></a></div><a class="site-state-item hty-icon-button" href="/about/" title="æˆ‘"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:aliens-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/K8963" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.</span> <span class="toc-text">åˆ›å»ºé¡¹ç›®</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">2.</span> <span class="toc-text">é¡¹ç›®åˆå§‹åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%88%AB%E5%90%8D"><span class="toc-number">2.1.</span> <span class="toc-text">å®šä¹‰åˆ«å</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#element-plus"><span class="toc-number">3.</span> <span class="toc-text">element-plus</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#router"><span class="toc-number">4.</span> <span class="toc-text">router</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">4.1.</span> <span class="toc-text">è·¯ç”±æ¨¡å—åŒ–</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#axios"><span class="toc-number">5.</span> <span class="toc-text">axios</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pinia"><span class="toc-number">6.</span> <span class="toc-text">pinia</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sass"><span class="toc-number">7.</span> <span class="toc-text">sass</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E9%A2%98%E5%88%87%E6%8D%A2"><span class="toc-number">7.1.</span> <span class="toc-text">ä¸»é¢˜åˆ‡æ¢</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#prettierrc"><span class="toc-number">8.</span> <span class="toc-text">prettierrc</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">9.</span> <span class="toc-text">å‚è€ƒ</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="http://example.com/2022/05/01/%E5%89%8D%E7%AB%AF/vue/vue3+ts+pinia+element_plus/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="8963"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="8963æ ¸ç”µç«™"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">vue3+ts+pinia+element_plus</h1><div class="post-meta"><div class="post-time"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <span class="post-meta-icon-text">å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2022-05-01 12:59:00" itemprop="dateCreated datePublished" datetime="2022-05-01T12:59:00+08:00">2022-05-01</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%89%8D%E7%AB%AF/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">å‰ç«¯</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/TypeScript/" style="--text-color:#317AC6"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">TypeScript</span></a><a class="tag-item" href="/tags/vue3/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">vue3</span></a><a class="tag-item" href="/tags/pinia/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">pinia</span></a><a class="tag-item" href="/tags/element-plus/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">element_plus</span></a></span></div><div class="post-author"><span class="author-name">8963</span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><p>vue ç”Ÿå‘½å‘¨æœŸã€v-if å’Œ v-show çš„åŒºåˆ«ã€computed å’Œ watch çš„åŒºåˆ«ã€v-for ä¸­ key çš„ä½œç”¨ã€ç»„ä»¶ä¼ å€¼</p>
<span id="more"></span>

<h1 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h1><p><img src="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070804686.png" loading="lazy"></p>
<h1 id="é¡¹ç›®åˆå§‹åŒ–"><a href="#é¡¹ç›®åˆå§‹åŒ–" class="headerlink" title="é¡¹ç›®åˆå§‹åŒ–"></a>é¡¹ç›®åˆå§‹åŒ–</h1><blockquote>
<p>ç›®å½•ç»“æ„</p>
<ul>
<li>public</li>
<li>src<ul>
<li>api</li>
<li>assets</li>
<li>components</li>
<li>config</li>
<li>router</li>
<li>store</li>
<li>styles</li>
<li>views</li>
<li>App.vue</li>
<li>env.d.ts</li>
<li>main.ts</li>
</ul>
</li>
<li>.env</li>
<li>.env.development</li>
<li>.env.production</li>
<li>index.html</li>
<li>package.json</li>
<li>tsconfig.json</li>
<li>tsconfig.node.json</li>
<li>vite.config.ts</li>
</ul>
</blockquote>
<h2 id="å®šä¹‰åˆ«å"><a href="#å®šä¹‰åˆ«å" class="headerlink" title="å®šä¹‰åˆ«å"></a>å®šä¹‰åˆ«å</h2><p><code>vite.config.ts</code></p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">'path'</span>

<span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  alias<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token string-property property">'@'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre>

<h1 id="element-plus"><a href="#element-plus" class="headerlink" title="element-plus"></a>element-plus</h1><pre class="language-none"><code class="language-none">npm i element-plus --save</code></pre>

<p><code>main.ts</code></p>
<pre class="language-none"><code class="language-none">import ElementPlus from &#39;element-plus&#39;
import &#39;element-plus&#x2F;dist&#x2F;index.css&#39;
const app &#x3D; createApp(App)

app.use(ElementPlus)</code></pre>

<h1 id="router"><a href="#router" class="headerlink" title="router"></a>router</h1><pre class="language-none"><code class="language-none">npm i vue-router@next -S</code></pre>

<p><code>routers/index.ts</code></p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  history<span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span> path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'views/home.vue'</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router</code></pre>

<p>å¼•å…¥ï¼Œ<code>main.js</code></p>
<pre class="language-none"><code class="language-none">import router from &quot;@&#x2F;router&quot;;
createApp(App).use(router).mount(&quot;#app&quot;);</code></pre>

<h2 id="è·¯ç”±æ¨¡å—åŒ–"><a href="#è·¯ç”±æ¨¡å—åŒ–" class="headerlink" title="è·¯ç”±æ¨¡å—åŒ–"></a>è·¯ç”±æ¨¡å—åŒ–</h2><p><img src="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070804391.png" loading="lazy"></p>
<h1 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h1><p>axiosã€è¿›åº¦æ¡ã€åºåˆ—åŒ–</p>
<pre class="language-none"><code class="language-none">npm i axios nprogress qs</code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/K8963/Imageshack@main/blog/202209070804623.png" loading="lazy"></p>
<p><code>index.ts</code></p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> axios<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  AxiosInstance<span class="token punctuation">,</span>
  AxiosError<span class="token punctuation">,</span>
  AxiosRequestConfig<span class="token punctuation">,</span>
  AxiosResponse<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ElMessage <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'element-plus'</span>

<span class="token keyword">import</span> <span class="token punctuation">&#123;</span>
  showFullScreenLoading<span class="token punctuation">,</span>
  tryHideFullScreenLoading<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@/config/serviceLoading'</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> AxiosCanceler <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./utils/axiosCancel'</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> checkStatus <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./utils/checkStatus'</span>

<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ResultData <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./interface'</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ResultEnum <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./enums/httpEnum'</span>

<span class="token keyword">const</span> axiosCanceler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AxiosCanceler</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// é»˜è®¤åœ°å€</span>
  baseURL<span class="token operator">:</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_API_URL</span> <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token comment">// è®¾ç½®è¶…æ—¶æ—¶é—´ï¼ˆ10sï¼‰</span>
  timeout<span class="token operator">:</span> ResultEnum<span class="token punctuation">.</span><span class="token constant">TIMEOUT</span> <span class="token keyword">as</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  <span class="token comment">// è·¨åŸŸæ—¶å€™å…è®¸æºå¸¦å‡­è¯</span>
  <span class="token comment">// withCredentials: true,</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">RequestHttp</span> <span class="token punctuation">&#123;</span>
  service<span class="token operator">:</span> AxiosInstance
  <span class="token keyword">public</span> <span class="token function">constructor</span><span class="token punctuation">(</span>config<span class="token operator">:</span> AxiosRequestConfig<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// å®ä¾‹åŒ–axios</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>service <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>

    <span class="token comment">/**
     * @description è¯·æ±‚æ‹¦æˆªå™¨
     * å®¢æˆ·ç«¯å‘é€è¯·æ±‚ -> [è¯·æ±‚æ‹¦æˆªå™¨] -> æœåŠ¡å™¨
     * tokenæ ¡éªŒ(JWT) : æ¥å—æœåŠ¡å™¨è¿”å›çš„token,å­˜å‚¨åˆ°vuex/æœ¬åœ°å‚¨å­˜å½“ä¸­
     */</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span>config<span class="token operator">:</span> AxiosRequestConfig<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// * å°†å½“å‰è¯·æ±‚æ·»åŠ åˆ° pending ä¸­</span>
        axiosCanceler<span class="token punctuation">.</span><span class="token function">addPending</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
        <span class="token function">showFullScreenLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// const token: string = globalStore.token</span>
        <span class="token keyword">const</span> token<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">''</span>
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span>config<span class="token punctuation">,</span> headers<span class="token operator">:</span> <span class="token punctuation">&#123;</span> Authorization<span class="token operator">:</span> token <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>error<span class="token operator">:</span> AxiosError<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">)</span>

    <span class="token comment">/**
     * @description å“åº”æ‹¦æˆªå™¨
     *  æœåŠ¡å™¨æ¢è¿”å›ä¿¡æ¯ -> [æ‹¦æˆªç»Ÿä¸€å¤„ç†] -> å®¢æˆ·ç«¯JSè·å–åˆ°ä¿¡æ¯
     */</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span>response<span class="token operator">:</span> AxiosResponse<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> data<span class="token punctuation">,</span> config <span class="token punctuation">&#125;</span> <span class="token operator">=</span> response
        <span class="token comment">// * åœ¨è¯·æ±‚ç»“æŸåï¼Œç§»é™¤æœ¬æ¬¡è¯·æ±‚</span>
        axiosCanceler<span class="token punctuation">.</span><span class="token function">removePending</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
        <span class="token function">tryHideFullScreenLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment">// globalStore.setToken('')</span>
        <span class="token comment">// router.replace(&#123;</span>
        <span class="token comment">//   path: '/login',</span>
        <span class="token comment">// &#125;)</span>

        <span class="token comment">// è¯·æ±‚å¤±è´¥</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>code <span class="token operator">!==</span> ResultEnum<span class="token punctuation">.</span><span class="token constant">CODE_SUCCESS</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          ElMessage<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
          <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
          <span class="token function">ElMessage</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            type<span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span>
            message<span class="token operator">:</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>msg<span class="token punctuation">,</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">// * æˆåŠŸè¯·æ±‚</span>
        <span class="token keyword">return</span> data
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token keyword">async</span> <span class="token punctuation">(</span>error<span class="token operator">:</span> AxiosError<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> response <span class="token punctuation">&#125;</span> <span class="token operator">=</span> error
        <span class="token function">tryHideFullScreenLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// æ ¹æ®å“åº”çš„é”™è¯¯çŠ¶æ€ç ï¼Œåšä¸åŒçš„å¤„ç†</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">checkStatus</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span>
        <span class="token comment">// æœåŠ¡å™¨ç»“æœéƒ½æ²¡æœ‰è¿”å›(å¯èƒ½æœåŠ¡å™¨é”™è¯¯å¯èƒ½å®¢æˆ·ç«¯æ–­ç½‘)ï¼Œæ–­ç½‘å¤„ç†:å¯ä»¥è·³è½¬åˆ°æ–­ç½‘é¡µé¢</span>
        <span class="token comment">// if (!window.navigator.onLine) return router.replace(&#123; path: '/500' &#125;)</span>
        <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>

  <span class="token comment">// * å¸¸ç”¨è¯·æ±‚æ–¹æ³•å°è£…</span>
  <span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">?</span><span class="token operator">:</span> object<span class="token punctuation">,</span> _object <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ResultData<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> params<span class="token punctuation">,</span> <span class="token operator">...</span>_object <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  <span class="token generic-function"><span class="token function">post</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">?</span><span class="token operator">:</span> object<span class="token punctuation">,</span> _object <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ResultData<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> params<span class="token punctuation">,</span> _object<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  <span class="token generic-function"><span class="token function">put</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">?</span><span class="token operator">:</span> object<span class="token punctuation">,</span> _object <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ResultData<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> params<span class="token punctuation">,</span> _object<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">delete</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> params<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> _object <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>ResultData<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">>></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> params<span class="token punctuation">,</span> <span class="token operator">...</span>_object <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">RequestHttp</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span></code></pre>

<p>å®é™…å‚ç…§<code>template\vue3+ts+pinia+element_plus</code></p>
<h1 id="pinia"><a href="#pinia" class="headerlink" title="pinia"></a>pinia</h1><p>pinaiã€pinaiæŒä¹…åŒ–</p>
<pre class="language-none"><code class="language-none">npm i pinia pinia-plugin-persist</code></pre>

<p><code>config\piniaPersist.ts</code></p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> PersistOptions <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia-plugin-persist'</span>

<span class="token comment">// piniaæŒä¹…åŒ–å‚æ•°é…ç½®</span>
<span class="token keyword">const</span> <span class="token function-variable function">piniaPersistConfig</span> <span class="token operator">=</span> <span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> persist<span class="token operator">:</span> PersistOptions <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    enabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    strategies<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">&#123;</span>
        key<span class="token punctuation">,</span>
        storage<span class="token operator">:</span> localStorage<span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> persist
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> piniaPersistConfig</code></pre>

<p><code>store\index.ts</code></p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createPinia <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>
<span class="token keyword">import</span> piniaPersist <span class="token keyword">from</span> <span class="token string">'pinia-plugin-persist'</span>
<span class="token keyword">import</span> piniaPersistConfig <span class="token keyword">from</span> <span class="token string">'@/config/piniaPersist'</span>

<span class="token comment">// defineStore è°ƒç”¨åè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨è¯¥å‡½æ•°è·å¾— Store å®ä½“</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> GlobalStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token comment">// id: å¿…é¡»çš„ï¼Œåœ¨æ‰€æœ‰ Store ä¸­å”¯ä¸€</span>
  id<span class="token operator">:</span> <span class="token string">'GlobalState'</span><span class="token punctuation">,</span>
  <span class="token comment">// state: è¿”å›å¯¹è±¡çš„å‡½æ•°</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// Token</span>
    token<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token comment">// userInfo</span>
    userInfo<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  getters<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// set token</span>
    <span class="token function">setToken</span><span class="token punctuation">(</span>token<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>token <span class="token operator">=</span> token
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">// set userInfo</span>
    <span class="token function">setUserInfo</span><span class="token punctuation">(</span>userInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>userInfo <span class="token operator">=</span> userInfo
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  persist<span class="token operator">:</span> <span class="token function">piniaPersistConfig</span><span class="token punctuation">(</span><span class="token string">'GlobalState'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// piniaPersist(æŒä¹…åŒ–)</span>
<span class="token keyword">const</span> pinia <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
pinia<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>piniaPersist<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> pinia</code></pre>

<h1 id="sass"><a href="#sass" class="headerlink" title="sass"></a>sass</h1><pre class="language-none"><code class="language-none">npm i sass -D</code></pre>

<p><code>styles</code>ç›®å½•ä¿å­˜å„ç§æ ·å¼</p>
<p><code>index.scss</code>ä½œä¸ºå‡ºå£ç»„ç»‡è¿™äº›æ ·å¼ï¼ŒåŒæ—¶ç¼–å†™ä¸€äº›å…¨å±€æ ·å¼</p>
<p>æœ€ååœ¨<code>main.js</code>å¯¼å…¥</p>
<pre class="language-none"><code class="language-none">import &quot;styles&#x2F;index.scss&quot;;</code></pre>

<h2 id="ä¸»é¢˜åˆ‡æ¢"><a href="#ä¸»é¢˜åˆ‡æ¢" class="headerlink" title="ä¸»é¢˜åˆ‡æ¢"></a>ä¸»é¢˜åˆ‡æ¢</h2><p>ä½¿ç”¨scss</p>
<p>å®šä¹‰ä¸»é¢˜å˜é‡</p>
<p><code>src\styles\theme\theme.scss</code></p>
<pre class="language-scss" data-language="scss"><code class="language-scss"><span class="token property"><span class="token variable">$themes</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span>
  <span class="token comment">// æ—¥é—´é»˜è®¤ å¦‚ font_color1ï¼Œfont_color2 ä¸€å¥—ä¸»é¢˜è®¾ç½®ä¸¤ç§é¢œè‰²ï¼Œé¡¹ç›®éœ€è¦é›†ä¸­é¢œè‰²å°±å®šä¹‰è¿™ä¸ªä¸»é¢˜ä¸‹æœ‰å¤šå°‘é¢œè‰²</span>

  <span class="token property">light</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token property">font_color1</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>196<span class="token punctuation">,</span> 193<span class="token punctuation">,</span> 193<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">font_color2</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>110<span class="token punctuation">,</span> 109<span class="token punctuation">,</span> 109<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">background_color1</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 21<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">background_color2</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>87<span class="token punctuation">,</span> 87<span class="token punctuation">,</span> 226<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">border_color1</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>231<span class="token punctuation">,</span> 181<span class="token punctuation">,</span> 181<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">border_color2</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>9<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">content_color1</span><span class="token punctuation">:</span><span class="token function">rgb</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">content_color2</span><span class="token punctuation">:</span><span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 250<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">// å¤œé—´æš—é»‘</span>
  <span class="token property">dark</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token property">font_color1</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>226<span class="token punctuation">,</span> 222<span class="token punctuation">,</span> 222<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">font_color2</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">background_color1</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>87<span class="token punctuation">,</span> 87<span class="token punctuation">,</span> 226<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">background_color2</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 21<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">border_color1</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>9<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">border_color2</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>231<span class="token punctuation">,</span> 181<span class="token punctuation">,</span> 181<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">content_color1</span><span class="token punctuation">:</span><span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 250<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token property">content_color2</span><span class="token punctuation">:</span><span class="token function">rgb</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>scsså¤„ç†å˜é‡å‡½æ•°<code>src\styles\theme\handle.scss</code></p>
<pre class="language-scss" data-language="scss"><code class="language-scss"><span class="token keyword">@import</span> <span class="token string">"./theme.scss"</span><span class="token punctuation">;</span> <span class="token comment">// å¼•å…¥ä¸Šé¢å®šä¹‰çš„themes.scss æ—¥é—´å’Œå¤œé—´ä¸»é¢˜</span>

<span class="token comment">//éå†ä¸»é¢˜map</span>

<span class="token keyword">@mixin</span> <span class="token selector">themeify </span><span class="token punctuation">&#123;</span>
  <span class="token keyword">@each</span> <span class="token selector"><span class="token variable">$theme-name</span>,
  <span class="token variable">$theme-map</span> in <span class="token variable">$themes</span> </span><span class="token punctuation">&#123;</span>
    <span class="token property"><span class="token variable">$theme-map</span></span><span class="token punctuation">:</span> <span class="token variable">$theme-map</span> !global<span class="token punctuation">;</span>
    <span class="token comment">//è¿™æ­¥æ˜¯åˆ¤æ–­htmlçš„ è‡ªå®šä¹‰å±æ€§ data-themeçš„å€¼  #&#123;&#125;æ˜¯sassçš„æ’å€¼è¡¨è¾¾å¼</span>
    <span class="token comment">//&amp; sassåµŒå¥—é‡Œçš„çˆ¶å®¹å™¨æ ‡è¯†   @contentæ˜¯æ··åˆå™¨æ’æ§½ï¼Œåƒvueçš„æ’æ§½ä¸€æ ·</span>
    <span class="token selector">[admin-theme="<span class="token variable">#&#123;$theme-name&#125;</span>"] <span class="token parent important">&amp;</span> </span><span class="token punctuation">&#123;</span>
      <span class="token keyword">@content</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//å£°æ˜ä¸€ä¸ªæ ¹æ®Keyè·å–é¢œè‰²çš„function</span>
<span class="token keyword">@function</span> <span class="token function">themed</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">@return</span> <span class="token function">map-get</span><span class="token punctuation">(</span><span class="token variable">$theme-map</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//è·å–èƒŒæ™¯é¢œè‰²</span>
<span class="token keyword">@mixin</span> background_<span class="token function">color</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">@include</span> <span class="token selector">themeify </span><span class="token punctuation">&#123;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">themed</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//è·å–å­—ä½“é¢œè‰²</span>
<span class="token keyword">@mixin</span> font_<span class="token function">color</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">@include</span> <span class="token selector">themeify </span><span class="token punctuation">&#123;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">themed</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//è·å–è¾¹æ¡†é¢œè‰²</span>
<span class="token keyword">@mixin</span> border_<span class="token function">color</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">@include</span> <span class="token selector">themeify </span><span class="token punctuation">&#123;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token function">themed</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// è·å–å†…å®¹å®¹å™¨çš„é¢œè‰²ã€</span>
<span class="token keyword">@mixin</span> content_<span class="token function">color</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">@include</span> <span class="token selector">themeify </span><span class="token punctuation">&#123;</span>
    <span class="token comment">// å†…å®¹çš„èƒŒæ™¯è‰²</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">themed</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è¿˜å¯ä»¥æ¥ç€å†™ä»£ç ã€ æ¯”å¦‚é€æ˜åº¦ä»€ä¹ˆçš„</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>

<p><code>vite.config.ts</code></p>
<pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineConfig <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vite'</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">'@vitejs/plugin-vue'</span>
<span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">'path'</span>

<span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    alias<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token string-property property">'@'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  css<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//cssé¢„å¤„ç†</span>
    preprocessorOptions<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      scss<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        additionalData<span class="token operator">:</span> <span class="token string">'@import "@/styles/theme/handle";'</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code></pre>

<p>ä½¿ç”¨</p>
<p>headerç»„ä»¶ï¼Œåˆ‡æ¢æŒ‰é’®</p>
<pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;el-header&gt;
      &lt;button @click&#x3D;&quot;toggleTheme(1)&quot;&gt;é»˜è®¤ä¸»é¢˜&lt;&#x2F;button&gt;
      &lt;button @click&#x3D;&quot;toggleTheme(0)&quot;&gt;æš—é»‘ä¸»é¢˜&lt;&#x2F;button&gt;
    &lt;&#x2F;el-header&gt;
    &lt;router-view &#x2F;&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup&gt;

const toggleTheme &#x3D; (index: number) &#x3D;&gt; &#123;
  window.document.documentElement.setAttribute(
    &#39;admin-theme&#39;,
    index ? &#39;dark&#39; : &#39;light&#39;
  )
&#125;
&lt;&#x2F;script&gt;

&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;
@import &#39;.&#x2F;style&#x2F;main.scss&#39;;
&lt;&#x2F;style&gt;</code></pre>

<p>é¡µé¢ä½¿ç”¨ï¼š</p>
<pre class="language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;è¿™é‡Œæ˜¯é¡µé¢&lt;&#x2F;p&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot;&gt;
import &#123; defineComponent &#125; from &#39;vue&#39;

export default defineComponent(&#123;
  setup() &#123;
    return &#123;&#125;
  &#125;,
&#125;)
&lt;&#x2F;script&gt;

&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;
&#x2F;&#x2F; ä¸¾ä¸ªä¾‹å­ Pæ ‡ç­¾ æ–‡å­—é¢œè‰² è¾¹æ¡†é¢œè‰² å’ŒèƒŒæ™¯é¢œè‰²
p &#123;
  @include font_color(&#39;font_color1&#39;);
  @include border_color(&#39;border_color1&#39;);
  @include content_color(&#39;content_color1&#39;);
&#125;
&lt;&#x2F;style&gt;</code></pre>

<p>æ•ˆæœ</p>
<h1 id="prettierrc"><a href="#prettierrc" class="headerlink" title="prettierrc"></a>prettierrc</h1><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// @see: https://www.prettier.cn</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>

  <span class="token comment">// è¶…è¿‡æœ€å¤§å€¼æ¢è¡Œ</span>

  printWidth<span class="token operator">:</span> <span class="token number">130</span><span class="token punctuation">,</span>

  <span class="token comment">// ç¼©è¿›å­—èŠ‚æ•°</span>

  tabWidth<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>

  <span class="token comment">// ä½¿ç”¨åˆ¶è¡¨ç¬¦è€Œä¸æ˜¯ç©ºæ ¼ç¼©è¿›è¡Œ</span>

  useTabs<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

  <span class="token comment">// ç»“å°¾ä¸ç”¨åˆ†å·(trueæœ‰ï¼Œfalseæ²¡æœ‰)</span>

  semi<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

  <span class="token comment">// ä½¿ç”¨å•å¼•å·(trueå•åŒå¼•å·ï¼ŒfalseåŒå¼•å·)</span>

  singleQuote<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

  <span class="token comment">// æ›´æ”¹å¼•ç”¨å¯¹è±¡å±æ€§çš„æ—¶é—´ å¯é€‰å€¼"&lt;as-needed|consistent|preserve>"</span>

  quoteProps<span class="token operator">:</span> <span class="token string">'as-needed'</span><span class="token punctuation">,</span>

  <span class="token comment">// åœ¨å¯¹è±¡ï¼Œæ•°ç»„æ‹¬å·ä¸æ–‡å­—ä¹‹é—´åŠ ç©ºæ ¼ "&#123; foo: bar &#125;"</span>

  bracketSpacing<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

  <span class="token comment">// å¤šè¡Œæ—¶å°½å¯èƒ½æ‰“å°å°¾éšé€—å·ã€‚ï¼ˆä¾‹å¦‚ï¼Œå•è¡Œæ•°ç»„æ°¸è¿œä¸ä¼šå‡ºç°é€—å·ç»“å°¾ã€‚ï¼‰ å¯é€‰å€¼"&lt;none|es5|all>"ï¼Œé»˜è®¤none</span>

  trailingComma<span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>

  <span class="token comment">// åœ¨JSXä¸­ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·</span>

  jsxSingleQuote<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

  <span class="token comment">//  (x) => &#123;&#125; ç®­å¤´å‡½æ•°å‚æ•°åªæœ‰ä¸€ä¸ªæ—¶æ˜¯å¦è¦æœ‰å°æ‹¬å·ã€‚avoidï¼šçœç•¥æ‹¬å· ,alwaysï¼šä¸çœç•¥æ‹¬å·</span>

  arrowParens<span class="token operator">:</span> <span class="token string">'avoid'</span><span class="token punctuation">,</span>

  <span class="token comment">// å¦‚æœæ–‡ä»¶é¡¶éƒ¨å·²ç»æœ‰ä¸€ä¸ª doclockï¼Œè¿™ä¸ªé€‰é¡¹å°†æ–°å»ºä¸€è¡Œæ³¨é‡Šï¼Œå¹¶æ‰“ä¸Š@formatæ ‡è®°ã€‚</span>

  insertPragma<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

  <span class="token comment">// æŒ‡å®šè¦ä½¿ç”¨çš„è§£æå™¨ï¼Œä¸éœ€è¦å†™æ–‡ä»¶å¼€å¤´çš„ @prettier</span>

  requirePragma<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

  <span class="token comment">// é»˜è®¤å€¼ã€‚å› ä¸ºä½¿ç”¨äº†ä¸€äº›æŠ˜è¡Œæ•æ„Ÿå‹çš„æ¸²æŸ“å™¨ï¼ˆå¦‚GitHub commentï¼‰è€ŒæŒ‰ç…§markdownæ–‡æœ¬æ ·å¼è¿›è¡ŒæŠ˜è¡Œ</span>

  proseWrap<span class="token operator">:</span> <span class="token string">'preserve'</span><span class="token punctuation">,</span>

  <span class="token comment">// åœ¨htmlä¸­ç©ºæ ¼æ˜¯å¦æ˜¯æ•æ„Ÿçš„ "css" - éµå®ˆCSSæ˜¾ç¤ºå±æ€§çš„é»˜è®¤å€¼ï¼Œ "strict" - ç©ºæ ¼è¢«è®¤ä¸ºæ˜¯æ•æ„Ÿçš„ ï¼Œ"ignore" - ç©ºæ ¼è¢«è®¤ä¸ºæ˜¯ä¸æ•æ„Ÿçš„</span>

  htmlWhitespaceSensitivity<span class="token operator">:</span> <span class="token string">'css'</span><span class="token punctuation">,</span>

  <span class="token comment">// æ¢è¡Œç¬¦ä½¿ç”¨ lf ç»“å°¾æ˜¯ å¯é€‰å€¼"&lt;auto|lf|crlf|cr>"</span>

  endOfLine<span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">,</span>

  <span class="token comment">// è¿™ä¸¤ä¸ªé€‰é¡¹å¯ç”¨äºæ ¼å¼åŒ–ä»¥ç»™å®šå­—ç¬¦åç§»é‡ï¼ˆåˆ†åˆ«åŒ…æ‹¬å’Œä¸åŒ…æ‹¬ï¼‰å¼€å§‹å’Œç»“æŸçš„ä»£ç </span>

  rangeStart<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>

  rangeEnd<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>

  <span class="token comment">// Vueæ–‡ä»¶è„šæœ¬å’Œæ ·å¼æ ‡ç­¾ç¼©è¿›</span>

  vueIndentScriptAndStyle<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

<span class="token punctuation">&#125;</span></code></pre>

<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6926822933721513998#heading-5">https://juejin.cn/post/6926822933721513998#heading-5</a></p>
</div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>8963</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="http://example.com/2022/05/01/%E5%89%8D%E7%AB%AF/vue/vue3+ts+pinia+element_plus/" title="vue3+ts+pinia+element_plus">http://example.com/2022/05/01/%E5%89%8D%E7%AB%AF/vue/vue3+ts+pinia+element_plus/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> è®¸å¯åè®®ã€‚</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/09/08/%E5%BC%80%E5%8F%91/Laravel%20+%20Vue/" rel="prev" title=""><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text"></span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/03/18/%E5%90%8E%E7%AB%AF/Java/JAVA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" rel="next" title="Java åŸºç¡€çŸ¥è¯†"><span class="post-nav-text">Java åŸºç¡€çŸ¥è¯†</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 â€“ 2022 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> 8963</span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="https://fastly.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="æœç´¢..." value=""></div><div class="search-result-container"></div></div><script src="https://fastly.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script>const images = [...document.querySelectorAll('.markdown-body img')]
mediumZoom(images)</script><style>.medium-zoom-image {
  z-index: 99;
}</style></body></html>